<p>This appears to work primarily for iOS 4. The public outcry about this file apparently caused Apple to delete the data more frequently, and change some of the ways it is stored. I've noted the alternatives available for iOS 5.</p>

<p>If you have an older iOS 4 backup, take some steps to extract this data before backing up <i>over</i> it, as Apple apparently deletes your old data now.</p>

<h2>Use an application (iOS 4)</h2>
<p><a href="http://petewarden.github.com/iPhoneTracker/">http://petewarden.github.com/iPhoneTracker/</a></p>

<p>This allows you to sorta see the information, but not do much with it. To use it in other ways, or to archive it yourself, go to the next section.</p>

<h2>Do it manually</h2>

<p><a href="http://nelsonslog.wordpress.com/2011/04/22/iphone-consolidated-db-location-tracking-notes/">Overview</a></p>

<h3>Extract Locations File</h3>
<ol>
	<li>First, read the directions
	<ol>
		<li><a href="http://howto.wired.com/wiki/Find_Stored_iPhone_Location_Data_on_your_Computer">Wired</a></li>
		<li><a href="http://petewarden.github.com/iPhoneTracker/#2">http://petewarden.github.com/iPhoneTracker/#2</a></li>
	</ol></li>
	<li>If you're running iOS 4, the script they reference is - <a href="http://pastebin.com/hFAt0WQH">http://pastebin.com/hFAt0WQH</a></li>
	<li>If you're running iOS 5, you'll need this instead - <a href="http://stackoverflow.com/a/8101937">http://stackoverflow.com/a/8101937</a></li>
</ol>
<p>All this does is give you the SQLite database of locations and other info. You'll need to find a way to read this or parse this yourself. </p>

<h2>Now that you've got the data</h2>
<h3>Convert the Data</h3>
<p><a href="https://addons.mozilla.org/en-us/firefox/addon/sqlite-manager/">SQLite Viewer</a><br />
You can use this to look over the data, and then export it as a CSV file.</p>

<p><a href="https://raw.github.com/gist/934357/c6b9197e3674e84270c518caa35b5edff541e6ca/iphone-tracker.py">Convert database to Google Maps KML file</a><br />
This script appears to only work for iOS4. I've made some updates to it, but haven't yet made this available.</p>

<h3>Use the Data</h3>

<p><a href="http://www.courbis.fr/Localisation-iPhone-votre.html">Upload your raw database file, see it on a map</a><br />
Only works for iOS4</p>

<p><a href="http://www.gpsvisualizer.com/">GPS Visualizer</a><br />
You should be able to import a CSV or KML file, and display the data on a map. </p>

<h3>Notes on the data structure</h3>
<p>The timestamps in the database file are the number of seconds since 2001-01-01.<br />
Add 978307200 to get it in seconds since Unix 1970 epoch.</p>

<p><a href="http://www.cs.mcgill.ca/~jfrank8/location/retrieveconsolidateddb.txt">http://www.cs.mcgill.ca/~jfrank8/location/retrieveconsolidateddb.txt</a></p>